<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Menu Structure -->
    <menuitem id="field_service_root"
            name="Field Service"
            web_icon="field_service,static/description/icon.png"
            sequence="7"/>

    <menuitem id="field_service_dash"
            name="Dashboard"
            parent="field_service_root"
            sequence="2"/>

    <menuitem id="field_service_operations"
            name="Operations"
            parent="field_service_root"
            sequence="3"/>

    <menuitem id="field_service_master"
            name="Master Data"
            parent="field_service_root"
            sequence="4"/>

    <menuitem id="field_service_reporting"
            name="Reporting"
            parent="field_service_root"
            sequence="5"/>

    <menuitem id="field_service_config"
            name="Configuration"
            parent="field_service_root"
            sequence="6"/>
    
    <!-- Service Requests -->
    <record id="field_service_order_form" model="ir.ui.view">
        <field name="name">service.request.form</field>
        <field name="model">service.request</field>
        <field name="arch" type="xml">
            <form string = "Service Request">
                <header>
                </header>
                <sheet>
                    <group>
                        <group>
                            <field name = "name"/>
                            <field name = "request_type"/>
                            <field name = "customer_id"/>
                            <field name = "onsite_contact"/>
                            <field name = "caller"/>
                            <field name = "status"/>
                            <field name = "equipment"/>
                        </group>
                        <group>
                            <field name = "priority"/>
                            <!--field name = "service_location"/-->
                            <field name = "po"/>
                            <field name = "creation_date"/>
                            <field name = "completion_date"/>
                            <field name = "po_needed"/>
                        </group>
                    </group>
                    <notebook>
                        <page string = "Service Request">
                        </page>
                        <page string = "Attributes">
                        </page>
                        <page string = "Map">
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>

    <record id = "service_request_tree_view" model="ir.ui.view">
        <field name="name">service.request.tree</field>
        <field name="model">service.request</field>
        <field name="arch" type="xml">
            <tree string = "Service Request" default_order = "creation_date">
                <field name = "customer_id" string = "Customer"/>
                <field name = "status" string = "Status"/>
                <field name = "creation_date" string = "Completion Date"/>
                <!--field name = "preferred_field_worker"-->
                <!--field name = "preferred_appointment_time" string = "Preferred Appointment Times"-->
            </tree>
        </field>
    </record>

    <record id = "service_request_kanban_view" model="ir.ui.view">
        <field name="name">service.request.kanban</field>
        <field name="model">service.request</field>
        <field name="arch" type="xml">
            <kanban default_group_by="status" class="o_kanban_small_column">
                <field name="status"/>
                <field name="customer_id"/>
                <field name="priority"/>
                <templates>
                    <t t-name = "kanban-box">
                        <div>
                            <ul>
                                <li>Record Name: <field name="name"/></li>
                            </ul>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>


    <record id="action_field_service_requests" model="ir.actions.act_window">
            <field name="name">Service Requests</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">service.request</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,kanban,form</field>
            <field name="domain">[]</field>
            <!--field name="search_view_id" ref="sale.sale_order_view_search_inherit_quotation"/-->
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Create a Service Request.
              </p>
            </field>
        </record>

    <menuitem id="menu_service_request_all"
        name="Service Request"
        action="action_field_service_requests"
        parent="field_service_operations"
        sequence="1"/>

    <!-- Service Location -->
    <record id = "service_location_tree_view" model="ir.ui.view">
        <field name="name">service.location.tree</field>
        <field name="model">service.location</field>
        <field name="arch" type="xml">
            <tree string = "Service Request">
                <field name = "customer_id" string = "Customer"/>
                <field name = "location_type" string = "Location Type"/>
                <field name = "latitude" string = "Latitude"/>
                <field name = "longitude" string = "Longitude"/>
            </tree>
        </field>
    </record>

    <record id = "service_location_kanban_view" model="ir.ui.view">
        <field name="name">service.location.kanban</field>
        <field name="model">service.location</field>
        <field name="arch" type="xml">
            <kanban default_group_by="owner" class="o_kanban_small_column">
                <field name="owner"/>
                <field name="customer_id"/>
                <field name="territory"/>
                <templates>
                    <t t-name = "kanban-box">
                        <div>
                            <ul>
                                <li>Record Name: <field name="name"/></li>
                            </ul>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>
    
    <record id="action_master_data_locations" model="ir.actions.act_window">
        <field name="name">Service Location</field>
            <field name="type">ir.actions.act_window</field>
            <!-- Will change model to service.location when it is made -->
            <field name="res_model">service.location</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,kanban,form</field>
            <field name="domain">[]</field>
            <!--field name="search_view_id" ref="sale.sale_order_view_search_inherit_quotation"/-->
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Create a Service Locations.
              </p>
              <p>
                Module not yet enabled.
              </p>
        </field>
    </record>

    <menuitem id="master_data_locations"
        name="Service Locations"
        action="action_master_data_locations"
        parent="field_service_master"
        sequence="1"/>

    <!-- Activities -->
    <record id="activities_form" model="ir.ui.view">
        <field name="name">activities.form</field>
        <field name="model">service.activities</field>
        <field name="arch" type="xml">
            <form string = "Service Request">
                <xpath expr = "//sheet[1]" position = "before">
                    <header>
                        <field name = "status" widget = "statusbar" readonly = "1"/>
                    </header>
                </xpath>
                <sheet>
                    <group>
                        <group>
                            <field name = "name"/>
                            <field name = "customer_id"/>
                            <field name = "service_request"/>
                            <field name = "status"/>
                        </group>
                        <group>
                            <field name = "scheduled_start"/>
                            <field name = "planned_duration"/>
                            <field name = "actual_start"/>
                            <field name = "priority"/>
                            <field name = "sequence"/>
                        </group>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record id = "action_tree_view" model="ir.ui.view">
        <field name="name">service.activities.tree</field>
        <field name="model">service.activities</field>
        <field name="arch" type="xml">
            <tree string = "Activities">
                <field name = "customer_id" string = "Customer"/>
                <field name = "status" string = "Status"/>
                <field name = "scheduled_start" string = "Completion Date"/>
                <field name = "priority" string = "Priority"/>
            </tree>
        </field>
    </record>

    <record id = "service_location_kanban_view" model="ir.ui.view">
        <field name="name">service.activities.kanban</field>
        <field name="model">service.activities</field>
        <field name="arch" type="xml">
            <kanban default_group_by="status" class="o_kanban_small_column">
                <field name="status"/>
                <field name="customer_id"/>
                <field name="priority"/>
                <templates>
                    <t t-name = "kanban-box">
                        <div>
                            <ul>
                                <li>Record Name: <field name="name"/></li>
                            </ul>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

    <record id="action_activities_all" model="ir.actions.act_window">
        <field name="name">Activities</field>
            <field name="type">ir.actions.act_window</field>
            <!-- Will change model to service.location when it is made -->
            <field name="res_model">service.activities</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,kanban,form</field>
            <field name="domain">[]</field>
            <!--field name="search_view_id" ref="sale.sale_order_view_search_inherit_quotation"/-->
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Create an Activity.
              </p>
        </field>
    </record>

    <menuitem id="menu_activities"
        name="Activities"
        action="action_activities_all"
        parent="field_service_operations"
        sequence="2"/>

    <!-- Skills -->
    <record id="skills_form" model="ir.ui.view">
        <field name="name">skill.form</field>
        <field name="model">skill</field>
        <field name="arch" type="xml">
            <form string = "Skills">
                <sheet>
                    <group>
                        <field name = "name"/>
                        <field name = "mandatory"/>
                        <field name = "description"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record id="manage_skills_all" model="ir.actions.act_window">
        <field name="name">Skills</field>
            <field name="type">ir.actions.act_window</field>
            <!-- Will change model to service.location when it is made -->
            <field name="res_model">skill</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[]</field>
            <!--field name="search_view_id" ref="sale.sale_order_view_search_inherit_quotation"/-->
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Manage skills here.
              </p>
        </field>
    </record>    

    <menuitem id="manage_skills"
        name="Manage Skills"
        action="manage_skills_all"
        parent="field_service_config"
        sequence="1"/>
</odoo>